<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1 引例 | Front End</title>
    <meta name="generator" content="VuePress 1.9.5">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.af09adac.js" as="script"><link rel="preload" href="/assets/js/2.baa734ae.js" as="script"><link rel="preload" href="/assets/js/25.55ca205b.js" as="script"><link rel="prefetch" href="/assets/js/10.f0a72ae9.js"><link rel="prefetch" href="/assets/js/11.9acc1b78.js"><link rel="prefetch" href="/assets/js/12.c6a8ef13.js"><link rel="prefetch" href="/assets/js/13.99f31d57.js"><link rel="prefetch" href="/assets/js/14.fe5adaaf.js"><link rel="prefetch" href="/assets/js/15.8e7541a4.js"><link rel="prefetch" href="/assets/js/16.8870801d.js"><link rel="prefetch" href="/assets/js/17.6d915773.js"><link rel="prefetch" href="/assets/js/18.466e8cc9.js"><link rel="prefetch" href="/assets/js/19.f53de298.js"><link rel="prefetch" href="/assets/js/20.fcc32f3f.js"><link rel="prefetch" href="/assets/js/21.bd308e34.js"><link rel="prefetch" href="/assets/js/22.72f5cd62.js"><link rel="prefetch" href="/assets/js/23.eb72a9c2.js"><link rel="prefetch" href="/assets/js/24.7cacb2f1.js"><link rel="prefetch" href="/assets/js/26.6a3dd7a2.js"><link rel="prefetch" href="/assets/js/27.d51fc11e.js"><link rel="prefetch" href="/assets/js/28.fbf8bfaf.js"><link rel="prefetch" href="/assets/js/29.995d9d1d.js"><link rel="prefetch" href="/assets/js/3.c679b4a7.js"><link rel="prefetch" href="/assets/js/30.3d43ad83.js"><link rel="prefetch" href="/assets/js/31.63002394.js"><link rel="prefetch" href="/assets/js/32.5fcd82ce.js"><link rel="prefetch" href="/assets/js/33.93921e48.js"><link rel="prefetch" href="/assets/js/34.a93796b9.js"><link rel="prefetch" href="/assets/js/35.469d98c9.js"><link rel="prefetch" href="/assets/js/36.d7204c0a.js"><link rel="prefetch" href="/assets/js/37.8c4fff29.js"><link rel="prefetch" href="/assets/js/38.a23a6483.js"><link rel="prefetch" href="/assets/js/39.0d08cbd0.js"><link rel="prefetch" href="/assets/js/4.9f593b04.js"><link rel="prefetch" href="/assets/js/5.b610c8cf.js"><link rel="prefetch" href="/assets/js/6.7b1f2309.js"><link rel="prefetch" href="/assets/js/7.eac8f617.js"><link rel="prefetch" href="/assets/js/8.8debfebc.js"><link rel="prefetch" href="/assets/js/9.864eb349.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Front End</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/01-基础/01-HTML/01-认识Web和Web标准.html" class="nav-link">
  01-HTML
</a></li><li class="dropdown-item"><!----> <a href="/01-基础/03-JavaScript/正则表达式/01-正则表达式及其作用.html" class="nav-link">
  03-JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/01-基础/04-Html Dom Practice/01-基础篇/Add or remove class from an element.html" class="nav-link">
  04-Html Dom Practice
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><span class="title">进阶</span> <span class="arrow down"></span></button> <button type="button" aria-label="进阶" class="mobile-dropdown-title"><span class="title">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/02-进阶/01-TypeScript/01-简介.html" class="nav-link">
  01-TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="构建工具" class="dropdown-title"><span class="title">构建工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="构建工具" class="mobile-dropdown-title"><span class="title">构建工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/03-构建工具/01-Webpack/01-基础篇/01-为什么需要Webpack.html" class="nav-link">
  01-Webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/04-框架/02-React/01-基础篇/01-简介.html" class="nav-link">
  02-React
</a></li></ul></div></div><div class="nav-item"><a href="https://melonvin.github.io/LeetCode-JavaScript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端也得刷点算法题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://melonvin.github.io/Front-End-Interview" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端面试题库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/Melonvin/Front-End" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/01-基础/01-HTML/01-认识Web和Web标准.html" class="nav-link">
  01-HTML
</a></li><li class="dropdown-item"><!----> <a href="/01-基础/03-JavaScript/正则表达式/01-正则表达式及其作用.html" class="nav-link">
  03-JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/01-基础/04-Html Dom Practice/01-基础篇/Add or remove class from an element.html" class="nav-link">
  04-Html Dom Practice
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><span class="title">进阶</span> <span class="arrow down"></span></button> <button type="button" aria-label="进阶" class="mobile-dropdown-title"><span class="title">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/02-进阶/01-TypeScript/01-简介.html" class="nav-link">
  01-TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="构建工具" class="dropdown-title"><span class="title">构建工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="构建工具" class="mobile-dropdown-title"><span class="title">构建工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/03-构建工具/01-Webpack/01-基础篇/01-为什么需要Webpack.html" class="nav-link">
  01-Webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/04-框架/02-React/01-基础篇/01-简介.html" class="nav-link">
  02-React
</a></li></ul></div></div><div class="nav-item"><a href="https://melonvin.github.io/LeetCode-JavaScript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端也得刷点算法题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://melonvin.github.io/Front-End-Interview" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端面试题库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/Melonvin/Front-End" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>TypeScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/02-进阶/01-TypeScript/01-简介.html" class="sidebar-link">01-简介</a></li><li><a href="/02-进阶/01-TypeScript/02-数据类型.html" class="sidebar-link">02-数据类型</a></li><li><a href="/02-进阶/01-TypeScript/03-编译.html" class="active sidebar-link">03-编译</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/02-进阶/01-TypeScript/03-编译.html#_1-引例" class="sidebar-link">1 引例</a></li><li class="sidebar-sub-header"><a href="/02-进阶/01-TypeScript/03-编译.html#_2-使用-tsconfig-json" class="sidebar-link">2 使用 tsconfig.json</a></li><li class="sidebar-sub-header"><a href="/02-进阶/01-TypeScript/03-编译.html#_3-常用路径相关配置选项" class="sidebar-link">3 常用路径相关配置选项</a></li><li class="sidebar-sub-header"><a href="/02-进阶/01-TypeScript/03-编译.html#_4-compileroptions" class="sidebar-link">4 compilerOptions</a></li><li class="sidebar-sub-header"><a href="/02-进阶/01-TypeScript/03-编译.html#_5-tsc-命令" class="sidebar-link">5 tsc 命令</a></li><li class="sidebar-sub-header"><a href="/02-进阶/01-TypeScript/03-编译.html#_6-总结" class="sidebar-link">6 总结</a></li><li class="sidebar-sub-header"><a href="/02-进阶/01-TypeScript/03-编译.html#_7-示例代码" class="sidebar-link">7 示例代码</a></li></ul></li><li><a href="/02-进阶/01-TypeScript/04-函数.html" class="sidebar-link">04-函数</a></li><li><a href="/02-进阶/01-TypeScript/05-接口.html" class="sidebar-link">05-接口</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1-引例"><a href="#_1-引例" class="header-anchor">#</a> 1 引例</h2> <p>有如下 TS 代码</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>使用 tsc 命令编译，报错：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>index.ts:1:5 - error TS2322: Type <span class="token string">'string'</span> is not assignable to <span class="token builtin class-name">type</span> <span class="token string">'number'</span><span class="token builtin class-name">.</span>

<span class="token number">1</span> <span class="token builtin class-name">let</span> a: number <span class="token operator">=</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">;</span>
      ~

Found <span class="token number">1</span> error.
</code></pre></div><p>这是显然的，因为数字类型的变量 a 无法被赋予字符串</p> <p>虽然编译报错，但是仍然生成了 JS 文件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>这是 tsc 命令的默认配置所致</p> <p>可以通过编写 <code>tsconfig.json</code> 来为 tsc 命令提供配置选项，从而让编译结果符合预期。比如：不希望编译报错时生成 JS 文件，通过配置即可实现</p> <h2 id="_2-使用-tsconfig-json"><a href="#_2-使用-tsconfig-json" class="header-anchor">#</a> 2 使用 tsconfig.json</h2> <p>编写 tsconfig.json 如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;noEmitOnError&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>此配置的作用是：报错时不生成输出文件</p> <p>将配置文件和下面的 index.ts 放在同一目录 src 下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// index.ts</span>
<span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>在 src 路径下直接调用命令 <code>tsc</code>（注意只要输入 tsc，后面不用带需要编译的文件），配置文件就会生效</p> <p>此时，会报错但是不会生成 JS 文件</p> <h2 id="_3-常用路径相关配置选项"><a href="#_3-常用路径相关配置选项" class="header-anchor">#</a> 3 常用路径相关配置选项</h2> <p>这几个配置选项的作用是：选择希望或不希望被编译的文件</p> <h3 id="_3-1-include"><a href="#_3-1-include" class="header-anchor">#</a> 3.1 include</h3> <p>作用：指定希望被编译的文件</p> <p>include 的值是一个 glob 模式匹配列表</p> <p>所谓 glob 模式是指 shell 所使用的简化了的正则表达式，支持的通配符有：</p> <ul><li><code>*</code> 匹配 0 或多个字符（不包括目录分隔符）</li> <li><code>?</code> 匹配一个任意字符（不包括目录分隔符）</li> <li><code>**/</code> 递归匹配任意子目录（包括当前目录）</li></ul> <p>示例：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/**/*&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>包括：tsconfig.json 所在目录的 src 目录及其所有子目录下的所有文件</p> <h3 id="_3-2-exclude"><a href="#_3-2-exclude" class="header-anchor">#</a> 3.2 exclude</h3> <p>作用：与 include 相反，排除指定目录下的文件</p> <p>默认值：<code>[&quot;node_modules&quot;, &quot;bower_components&quot;, &quot;jspm_packages&quot;]</code>
与 include 一样，exclude 的值也是一个 glob 模式匹配列表</p> <p>示例：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;test/**/*&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>排除：tsconfig.json 所在目录的 test 目录及其所有子目录下的所有文件</p> <h3 id="_3-3-files"><a href="#_3-3-files" class="header-anchor">#</a> 3.3 files</h3> <p>作用：指定一个包含相对或绝对路径的具体文件列表，只有需要编译的文件少时才会用到</p> <p>示例：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;core.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;sys.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;types.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;scanner.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;parser.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;utilities.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;binder.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;checker.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;tsc.ts&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果 include 和 files 都未被指定，编译器默认包含当前目录（tsconfig.json 所在目录）和子目录下所有的 ts 文件（事实上是所有支持的文件扩展名类型，暂时当作所有 ts 文件），等价于 <code>include: [ &quot;**/*&quot; ]</code></p> <h2 id="_4-compileroptions"><a href="#_4-compileroptions" class="header-anchor">#</a> 4 compilerOptions</h2> <p>compilerOptions 指编译器选项，作用是指定编译器的行为，比如报错时不生成 JS 文件</p> <p>举例说明若干编译器选项：</p> <h3 id="_4-1-target"><a href="#_4-1-target" class="header-anchor">#</a> 4.1 target</h3> <table><thead><tr><th style="text-align:left;">选项</th> <th>类型</th> <th>默认值</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:left;">target</td> <td>string</td> <td>&quot;ES3&quot;</td> <td>指定编译后生成的 JS 版本，可选值详见<a href="https://www.typescriptlang.org/tsconfig#target" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p>示例：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES6&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-2-lib"><a href="#_4-2-lib" class="header-anchor">#</a> 4.2 lib</h3> <table><thead><tr><th style="text-align:left;">选项</th> <th>类型</th> <th>默认值</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:left;">lib</td> <td>string[]</td> <td>与 target 有关</td> <td>编译过程中需要引入的库文件列表，可选值详见<a href="https://www.typescriptlang.org/tsconfig#lib" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p>默认值与 target 选项有关</p> <p><strong>改变 target 会自动改变 lib 的默认值，方便起见可以只设置 target</strong></p> <p><code>BigInt</code>是 ES2020 新增的数据类型，如果未指定 lib 及 target，编译会报错</p> <p>比如</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 注意需要在整数字面量后面加n来定义一个 BigInt</span>
<span class="token keyword">let</span> big<span class="token operator">:</span> bigint <span class="token operator">=</span> <span class="token number">9007199254740991n</span><span class="token punctuation">;</span>
</code></pre></div><p>编译后报错</p> <div class="language-sh extra-class"><pre class="language-sh"><code>index.ts:2:19 - error TS2737: BigInt literals are not available when targeting lower than ES2020.

<span class="token number">2</span> <span class="token builtin class-name">let</span> big: bigint <span class="token operator">=</span> 9007199254740991n<span class="token punctuation">;</span>
                    ~~~~~~~~~~~~~~~~~

Found <span class="token number">1</span> error.
</code></pre></div><p>首先是 target 不能低于 ES2020，设置 target 为 ES2020，tsconfig.json 如下</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES2020&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>再次编译后成功，这是因为指定 target 后，默认引入了<code>ES2020.BigInt</code></p> <h3 id="_4-3-module"><a href="#_4-3-module" class="header-anchor">#</a> 4.3 module</h3> <table><thead><tr><th style="text-align:left;">选项</th> <th>类型</th> <th>默认值</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:left;">module</td> <td>string</td> <td>如果 <a href="https://www.typescriptlang.org/tsconfig#target" target="_blank" rel="noopener noreferrer"><code>target</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是<code>ES3</code> 或 <code>ES5</code>，默认值为<code>CommonJS</code>，否则默认值为<code>ES6</code>/<code>ES2015</code></td> <td>指定编译后代码使用的模块系统，可选值详见<a href="https://www.typescriptlang.org/tsconfig#module" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr></tbody></table> <p>示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CommonJS&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-4-outdir"><a href="#_4-4-outdir" class="header-anchor">#</a> 4.4 outDir</h3> <table><thead><tr><th style="text-align:left;">选项</th> <th>类型</th> <th>默认值</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:left;">outDir</td> <td>string</td> <td></td> <td>指定编译后代码的输出目录</td></tr></tbody></table> <p>如果不指定，代码会被输出到 ts 文件同目录下</p> <div class="language-md extra-class"><pre class="language-md"><code>example
├── index.js
└── index.ts
</code></pre></div><p>如果指定，比如</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>则编译后输出</p> <div class="language-md extra-class"><pre class="language-md"><code>example
├── dist
│ └── index.js
├── index.ts
└── tsconfig.json
</code></pre></div><h3 id="_4-5-noemitonerror"><a href="#_4-5-noemitonerror" class="header-anchor">#</a> 4.5 noEmitOnError</h3> <table><thead><tr><th style="text-align:left;">选项</th> <th>类型</th> <th>默认值</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:left;">noEmitOnError</td> <td>boolean</td> <td>false</td> <td>编译出错时不生成 JS 文件</td></tr></tbody></table> <p>示例</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;noEmitOnError&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>更多 tsconfig.json 配置选项请参阅<a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_5-tsc-命令"><a href="#_5-tsc-命令" class="header-anchor">#</a> 5 tsc 命令</h2> <p>使用 tsc 命令编译时有三种情况</p> <h3 id="_5-1-指定输入文件"><a href="#_5-1-指定输入文件" class="header-anchor">#</a> 5.1 指定输入文件</h3> <p>命令：<code>tsc + 输入文件</code></p> <p>比如：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>tsc index.ts
</code></pre></div><p>这种情况下，<code>tsconfig.json</code> 文件不生效</p> <h3 id="_5-2-指定文件目录"><a href="#_5-2-指定文件目录" class="header-anchor">#</a> 5.2 指定文件目录</h3> <p>命令：<code>tsc --project(或 -p) + 包含 tsconfig.json 的目录</code></p> <p>比如：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>tsc --project src
<span class="token comment"># 或者 tsc -p src</span>
</code></pre></div><p>其中，src 目录下包含 tsconfig.json 文件</p> <p>这种情况下，src 目录下的 <code>tsconfig.json</code> 会生效</p> <h3 id="_5-3-自动搜索配置文件"><a href="#_5-3-自动搜索配置文件" class="header-anchor">#</a> 5.3 自动搜索配置文件</h3> <p>直接调用命令：<code>tsc</code></p> <p>这种情况下，编译器会从当前目录开始去查找 tsconfig.json 文件，逐级向上搜索父目录</p> <p>搜索到 <code>tsconfig.json</code> 即会生效</p> <h2 id="_6-总结"><a href="#_6-总结" class="header-anchor">#</a> 6 总结</h2> <ol><li>tsconfig.json 可以为 tsc 编译命令提供配置选项，从而让编译结果符合预期</li></ol> <h2 id="_7-示例代码"><a href="#_7-示例代码" class="header-anchor">#</a> 7 示例代码</h2> <p><a href="https://github.com/Melonvin/TypeScript-Demos" target="_blank" rel="noopener noreferrer">代码地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Melonvin/Front-End/edit/master/02-进阶/01-TypeScript/03-编译.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/02-进阶/01-TypeScript/02-数据类型.html" class="prev">
        02-数据类型
      </a></span> <span class="next"><a href="/02-进阶/01-TypeScript/04-函数.html">
        04-函数
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.af09adac.js" defer></script><script src="/assets/js/2.baa734ae.js" defer></script><script src="/assets/js/25.55ca205b.js" defer></script>
  </body>
</html>
